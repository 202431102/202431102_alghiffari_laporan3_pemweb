<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">

    <!-- Judul halaman yang tampil di tab browser -->
    <title>Penilaian Mahasiswa</title>

    <!-- Bootstrap digunakan untuk mempercantik tampilan (layout, form, button, dll) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
        crossorigin="anonymous"></script>

    <!-- CSS internal untuk pengaturan tampilan tambahan -->
    <style>
        /* Warna background halaman */
        body {
            background-color: #f8f9fa;
        }

        /* Warna dan teks pada header card */
        .card-header {
            background-color: #007bff;
            color: white;
        }

        /* Membuat label form menjadi tebal */
        .form-label {
            font-weight: bold;
        }
    </style>
</head>

<body>

<!-- Container Bootstrap agar tampilan berada di tengah dan rapi -->
<div class="container mt-4 mb-5 px-5">

    <!-- Card Bootstrap sebagai pembungkus form -->
    <div class="card shadow-sm">

        <!-- Header card -->
        <div class="card-header text-center">
            <h1 class="h4 mb-0">Form Penilaian Mahasiswa</h1>
        </div>

        <!-- Body card -->
        <div class="card-body">

            <!-- Input Nama Mahasiswa -->
            <div class="mb-3">
                <label class="form-label">Masukkan Nama</label>
                <input type="text" id="nama" class="form-control" placeholder="masukkan nama">
            </div>

            <!-- Input NIM Mahasiswa -->
            <div class="mb-3">
                <label class="form-label">Masukkan NIM</label>
                <input type="text" id="nim" class="form-control" placeholder="masukkan nim">
            </div>

            <!-- Input Nilai Kehadiran -->
            <div class="mb-3">
                <label class="form-label">Nilai Kehadiran (10%)</label>
                <input type="number" id="kehadiran" class="form-control"
                       placeholder="Untuk Lulus minimal 70%" min="0" max="100">
            </div>

            <!-- Input Nilai Tugas -->
            <div class="mb-3">
                <label class="form-label">Nilai Tugas (20%)</label>
                <input type="number" id="tugas" class="form-control"
                       placeholder="0 - 100" min="0" max="100">
            </div>

            <!-- Input Nilai UTS -->
            <div class="mb-3">
                <label class="form-label">Nilai UTS (30%)</label>
                <input type="number" id="uts" class="form-control"
                       placeholder="0 - 100" min="0" max="100">
            </div>

            <!-- Input Nilai UAS -->
            <div class="mb-3">
                <label class="form-label">Nilai UAS (40%)</label>
                <input type="number" id="uas" class="form-control"
                       placeholder="0 - 100" min="0" max="100">
            </div>

            <!-- Tombol untuk memproses nilai -->
            <div class="d-grid gap-2">
                <button class="btn btn-primary" onclick="prosesNilai()">
                    Proses
                </button>
            </div>

            <!-- Area untuk menampilkan hasil perhitungan -->
            <div id="hasil" class="mt-4"></div>
        </div>
    </div>
</div>

<!-- JavaScript untuk memproses data dan menampilkan hasil -->
<script>

    // Fungsi utama untuk memproses nilai mahasiswa
    function prosesNilai() {

        // Mengambil nilai dari setiap input
        let nama   = document.getElementById("nama").value;
        let nim    = document.getElementById("nim").value;
        let hadir  = Number(document.getElementById("kehadiran").value);
        let tugas  = Number(document.getElementById("tugas").value);
        let uts    = Number(document.getElementById("uts").value);
        let uas    = Number(document.getElementById("uas").value);

        // Validasi: memastikan semua data sudah diisi
        if (!nama || !nim || isNaN(hadir) || isNaN(tugas) || isNaN(uts) || isNaN(uas)) {
            alert("Harap isi semua data!");
            return; // menghentikan proses jika ada data kosong
        }

        // Menghitung nilai akhir berdasarkan bobot
        let nilaiAkhir =
            (hadir * 0.1) +
            (tugas * 0.2) +
            (uts   * 0.3) +
            (uas   * 0.4);

        // Menentukan grade berdasarkan nilai akhir
        let grade =
            nilaiAkhir >= 85 ? "A" :
            nilaiAkhir >= 70 ? "B" :
            nilaiAkhir >= 55 ? "C" :
            nilaiAkhir >= 40 ? "D" : "E";

        // Menentukan status kelulusan
        let status =
            (nilaiAkhir >= 60 &&
             hadir >= 70 &&
             tugas >= 40 &&
             uts   >= 40 &&
             uas   >= 40)
            ? "LULUS"
            : "TIDAK LULUS";

        // Menampilkan hasil ke dalam halaman
        document.getElementById("hasil").innerHTML = `
            <hr>
            <h5>Hasil Penilaian</h5>

            <p><strong>Nama:</strong> ${nama}</p>
            <p><strong>NIM:</strong> ${nim}</p>

            <p>Nilai Kehadiran: ${hadir}</p>
            <p>Nilai Tugas: ${tugas}</p>
            <p>Nilai UTS: ${uts}</p>
            <p>Nilai UAS: ${uas}</p>

            <p><strong>Nilai Akhir:</strong> ${nilaiAkhir.toFixed(2)}</p>
            <p><strong>Grade:</strong> ${grade}</p>

            <p><strong>Status:</strong>
                <span class="badge ${status === 'LULUS' ? 'bg-success' : 'bg-danger'}">
                    ${status}
                </span>
            </p>
        `;
    }

</script>
</body>
</html>
